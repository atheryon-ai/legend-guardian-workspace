# =============================================================================
# COMMON ENVIRONMENT VARIABLES FOR ALL LEGEND APPLICATIONS
# =============================================================================
# This file contains shared variables used across all Legend services
# Application-specific variables should be in their respective folders

# =============================================================================
# AZURE INFRASTRUCTURE (Shared)
# =============================================================================
AZURE_SUBSCRIPTION_ID=your-subscription-id
AZURE_RESOURCE_GROUP=your-resource-group-name
AZURE_LOCATION=eastus
AZURE_AKS_CLUSTER=your-aks-cluster-name
AZURE_ACR_NAME=your-acr-name
AZURE_ACR_LOGIN_SERVER=your-acr-name.azurecr.io
AZURE_ACR_USERNAME=your-acr-username
AZURE_ACR_PASSWORD=your-acr-password

# =============================================================================
# KUBERNETES (Shared)
# =============================================================================
K8S_NAMESPACE=legend
K8S_NAMESPACE_SYSTEM=legend-system
K8S_INGRESS_CLASS=nginx

# AKS Configuration
AKS_NODE_COUNT=2
AKS_VM_SIZE=Standard_DS2_v2
AKS_MIN_NODES=1
AKS_MAX_NODES=5
AKS_KUBERNETES_VERSION=1.28.0

# Network Configuration
AKS_SERVICE_CIDR=10.0.0.0/16
AKS_DNS_SERVICE_IP=10.0.0.10
AKS_NETWORK_PLUGIN=azure
AKS_NETWORK_POLICY=azure

# =============================================================================
# GITLAB OAUTH (Shared by SDLC and Studio)
# =============================================================================
GITLAB_HOST=gitlab.com
GITLAB_APP_ID=your-gitlab-app-id
GITLAB_APP_SECRET=your-gitlab-app-secret

# =============================================================================
# MONGODB (Shared Database)
# =============================================================================
MONGODB_HOST=mongodb
MONGODB_PORT=27017
MONGODB_NAME=legend
MONGODB_USER=admin
MONGODB_PASSWORD=admin
MONGODB_URI=mongodb://admin:admin@mongodb:27017/legend?authSource=admin

# MongoDB Session Configuration
MONGODB_SESSION_ENABLED=false
MONGODB_SESSION_STORE=false
MONGODB_SESSION_COLLECTION=sessions

# Azure Cosmos DB MongoDB (Production)
# MONGODB_URI=mongodb://admin:[PASSWORD]@mongo-legend-[UNIQUE_SUFFIX].mongo.cosmos.azure.com:10255/legend?ssl=true&replicaSet=globaldb&retrywrites=false&maxIdleTimeMS=120000&appName=@mongo-legend-[UNIQUE_SUFFIX]@

# =============================================================================
# LEGEND VERSIONS
# =============================================================================
LEGEND_ENGINE_VERSION=4.40.3
LEGEND_SDLC_VERSION=0.195.0
LEGEND_STUDIO_VERSION=13.113.0

# =============================================================================
# PRODUCTION SETTINGS
# =============================================================================
NODE_ENV=production
LOG_LEVEL=INFO
ENABLE_MONITORING=true
ENABLE_TLS=true
TLS_CERT_EMAIL=your-email@domain.com
TLS_CERT_DOMAIN=legend.your-domain.com

# =============================================================================
# RESOURCE LIMITS (Default)
# =============================================================================
DEFAULT_MEMORY_REQUEST=512Mi
DEFAULT_MEMORY_LIMIT=1Gi
DEFAULT_CPU_REQUEST=250m
DEFAULT_CPU_LIMIT=500m

# =============================================================================
# JAVA OPTIONS (For Engine and SDLC)
# =============================================================================
JAVA_OPTS_COMMON="-XX:+UseG1GC -XX:MaxGCPauseMillis=200"

# =============================================================================
# SERVICE HEALTH PATHS (Default)
# =============================================================================
DEFAULT_HEALTH_CHECK_PATH=/health
DEFAULT_READINESS_PROBE_PATH=/health
DEFAULT_LIVENESS_PROBE_PATH=/health

# =============================================================================
# METADATA PURE CONFIGURATION
# =============================================================================
METADATA_PURE_HOST=localhost
METADATA_PURE_PORT=6300
METADATA_PURE_PATH=/api