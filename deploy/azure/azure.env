# =============================================================================
# AZURE-SPECIFIC CONFIGURATION OVERRIDES
# =============================================================================
# This file contains only Azure-specific overrides.
# It is sourced AFTER base.env by deployment scripts.
# Only include values that differ from base.env

# =============================================================================
# DEPLOYMENT ENVIRONMENT
# =============================================================================
DEPLOYMENT_ENV=azure

# =============================================================================
# AZURE INFRASTRUCTURE (must be overridden in secrets.env)
# =============================================================================
# These are placeholders - real values should be in secrets.env
AZURE_SUBSCRIPTION_ID=${AZURE_SUBSCRIPTION_ID:-your-subscription-id}
AZURE_RESOURCE_GROUP=${AZURE_RESOURCE_GROUP:-rs-finos-legend}
AZURE_LOCATION=${AZURE_LOCATION:-eastus}
AZURE_AKS_CLUSTER=${AZURE_AKS_CLUSTER:-legend-aks-cluster}
AZURE_ACR_NAME=${AZURE_ACR_NAME:-your-acr-name}
AZURE_ACR_LOGIN_SERVER=${AZURE_ACR_LOGIN_SERVER:-your-acr-name.azurecr.io}
AZURE_ACR_USERNAME=${AZURE_ACR_USERNAME:-your-acr-username}
AZURE_ACR_PASSWORD=${AZURE_ACR_PASSWORD:-your-acr-password}

# =============================================================================
# AKS CONFIGURATION
# =============================================================================
AKS_NODE_COUNT=2
AKS_VM_SIZE=Standard_DS2_v2
AKS_MIN_NODES=1
AKS_MAX_NODES=5
AKS_KUBERNETES_VERSION=1.28.0

# Network Configuration
AKS_SERVICE_CIDR=10.0.0.0/16
AKS_DNS_SERVICE_IP=10.0.0.10
AKS_NETWORK_PLUGIN=azure
AKS_NETWORK_POLICY=azure

# =============================================================================
# AZURE SERVICE URLS (must be overridden in secrets.env)
# =============================================================================
LEGEND_ENGINE_URL=${LEGEND_ENGINE_URL:-https://legend-engine.your-domain.com}
LEGEND_SDLC_URL=${LEGEND_SDLC_URL:-https://legend-sdlc.your-domain.com}
LEGEND_STUDIO_URL=${LEGEND_STUDIO_URL:-https://legend-studio.your-domain.com}

# =============================================================================
# MONGODB OVERRIDE FOR AZURE (Cosmos DB)
# =============================================================================
# This should be set in secrets.env with actual Cosmos DB connection string
MONGODB_URI=${MONGODB_URI:-mongodb://admin:[PASSWORD]@mongo-legend.mongo.cosmos.azure.com:10255/legend?ssl=true&replicaSet=globaldb}

# =============================================================================
# TLS CONFIGURATION FOR AZURE
# =============================================================================
ENABLE_TLS=true
TLS_CERT_EMAIL=${TLS_CERT_EMAIL:-your-email@domain.com}
TLS_CERT_DOMAIN=${TLS_CERT_DOMAIN:-legend.your-domain.com}

# =============================================================================
# AZURE RESOURCE LIMITS (Override defaults for production)
# =============================================================================
ENGINE_MEMORY_REQUEST=1Gi
ENGINE_MEMORY_LIMIT=3Gi
ENGINE_CPU_REQUEST=750m
ENGINE_CPU_LIMIT=1500m
ENGINE_REPLICAS=2

SDLC_MEMORY_REQUEST=750Mi
SDLC_MEMORY_LIMIT=2Gi
SDLC_CPU_REQUEST=500m
SDLC_CPU_LIMIT=1000m
SDLC_REPLICAS=2

STUDIO_MEMORY_REQUEST=512Mi
STUDIO_MEMORY_LIMIT=1Gi
STUDIO_CPU_REQUEST=250m
STUDIO_CPU_LIMIT=500m
STUDIO_REPLICAS=2

# =============================================================================
# PRODUCTION SETTINGS
# =============================================================================
NODE_ENV=production
LOG_LEVEL=INFO
ENABLE_MONITORING=true