# =============================================================================
# Legend Platform Environment Variables Template
# =============================================================================
# This file contains ALL environment variables needed for Legend deployment
# Copy this file to .env.local (or .env.<environment>) and fill in your values
#
# SECURITY: This template contains NO real secrets and is safe to commit
# =============================================================================

# -----------------------------------------------------------------------------
# DEPLOYMENT ENVIRONMENT
# -----------------------------------------------------------------------------
# Options: local, docker, k8s, azure
DEPLOYMENT_ENV=local

# -----------------------------------------------------------------------------
# GITLAB OAUTH CONFIGURATION
# -----------------------------------------------------------------------------
# Create OAuth app at: https://gitlab.com/-/profile/applications
# IMPORTANT: Use the Application ID (hex string), NOT the numeric ID from URLs
# Example: dbdd707e51066b5b948d238bb0f84b7a7d2c883e008671c7dc33c1c5c639c862
GITLAB_APP_ID=<YOUR-GITLAB-APPLICATION-ID-HEX-STRING>
GITLAB_APP_SECRET=<YOUR-GITLAB-APP-SECRET>
GITLAB_HOST=gitlab.com

# -----------------------------------------------------------------------------
# LEGEND SERVICE URLS
# -----------------------------------------------------------------------------
# For local development, use localhost
# For production, use your domain names
LEGEND_ENGINE_URL=http://localhost:6300
LEGEND_SDLC_URL=http://localhost:6100
LEGEND_STUDIO_URL=http://localhost:9000
LEGEND_DEPOT_URL=http://localhost:6200
LEGEND_QUERY_URL=http://localhost:9001

# -----------------------------------------------------------------------------
# LEGEND SERVICE PORTS (Local/Docker)
# -----------------------------------------------------------------------------
LEGEND_ENGINE_PORT=6300
LEGEND_SDLC_PORT=6100
LEGEND_STUDIO_PORT=9000
LEGEND_DEPOT_PORT=6200
LEGEND_DEPOT_STORE_PORT=6201
LEGEND_QUERY_PORT=9001
MONGODB_PORT=27017
POSTGRES_PORT=5432

# -----------------------------------------------------------------------------
# DATABASE CONFIGURATION
# -----------------------------------------------------------------------------
# MongoDB (Local/Docker)
MONGODB_USER=admin
MONGODB_PASSWORD=<YOUR-MONGODB-PASSWORD>
MONGODB_DATABASE=legend
MONGODB_HOST=mongodb
MONGODB_URI=mongodb://${MONGODB_USER}:${MONGODB_PASSWORD}@${MONGODB_HOST}:27017/${MONGODB_DATABASE}?authSource=admin

# PostgreSQL (if needed)
POSTGRES_USER=legend
POSTGRES_PASSWORD=<YOUR-POSTGRES-PASSWORD>
POSTGRES_DB=legend

# -----------------------------------------------------------------------------
# AZURE CONFIGURATION (Production/Azure deployment only)
# -----------------------------------------------------------------------------
# Azure Subscription and Resource Group
AZURE_SUBSCRIPTION_ID=<YOUR-AZURE-SUBSCRIPTION-ID>
AZURE_RESOURCE_GROUP=<YOUR-RESOURCE-GROUP-NAME>
AZURE_LOCATION=eastus

# Azure Container Registry
AZURE_ACR_NAME=<YOUR-ACR-NAME>
AZURE_ACR_LOGIN_SERVER=<YOUR-ACR-NAME>.azurecr.io
AZURE_ACR_USERNAME=<YOUR-ACR-USERNAME>
AZURE_ACR_PASSWORD=<YOUR-ACR-PASSWORD>

# Azure Kubernetes Service
AZURE_AKS_CLUSTER=<YOUR-AKS-CLUSTER-NAME>

# Azure Cosmos DB (MongoDB API) - Production only
AZURE_COSMOS_CONNECTION_STRING=<YOUR-COSMOS-DB-CONNECTION-STRING>

# -----------------------------------------------------------------------------
# TLS/SSL CONFIGURATION (Production only)
# -----------------------------------------------------------------------------
TLS_ENABLED=false
TLS_CERT_DOMAIN=<YOUR-DOMAIN.COM>
TLS_CERT_EMAIL=<YOUR-EMAIL@DOMAIN.COM>

# -----------------------------------------------------------------------------
# MONITORING & LOGGING (Optional)
# -----------------------------------------------------------------------------
ENABLE_MONITORING=false
GRAFANA_ADMIN_PASSWORD=<YOUR-GRAFANA-PASSWORD>
PROMETHEUS_RETENTION=15d

# -----------------------------------------------------------------------------
# GUARDIAN AGENT (Optional)
# -----------------------------------------------------------------------------
GUARDIAN_ENABLED=false
GUARDIAN_API_KEY=<YOUR-GUARDIAN-API-KEY>
GUARDIAN_WEBHOOK_URL=<YOUR-WEBHOOK-URL>

# =============================================================================
# NOTES:
# =============================================================================
# 1. Replace all <YOUR-*> placeholders with actual values
# 2. Never commit files containing real secrets to git
# 3. Use environment-specific files: .env.local, .env.docker, .env.azure
# 4. Run deploy/secrets/setup.sh for interactive configuration
# =============================================================================